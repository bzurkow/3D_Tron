'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.texture = undefined;

var _three = require('three');

var THREE = _interopRequireWildcard(_three);

var _loaders = require('./loaders');

var _extend = require('./extend');

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var texture = exports.texture = function texture(url) {
  var repeat = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

  var texture = _loaders.TextureLoader.load(url);

  if (repeat) {
    var opt = (0, _extend.extend)(repeat, {
      offset: {
        x: 0,
        y: 0
      },
      repeat: {
        x: 1,
        y: 1
      }
    });

    texture.wrapS = texture.wrapT = THREE.RepeatWrapping;

    texture.offset.set(opt.offset.x, opt.offset.y);
    texture.repeat.set(opt.repeat.x, opt.repeat.y);

    texture.magFilter = THREE.NearestFilter;
    texture.minFilter = THREE.LinearMipMapLinearFilter;
  }

  return texture;
};